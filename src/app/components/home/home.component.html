<div class ="container">  
  <div>
    <accordion>
        <accordion-group *ngFor="let person of filteredDb" [heading]="person.username">
          <app-person [person] = "person"> </app-person>
          <button *ngIf="currentUser.admin" type="button" class="btn btn-primary" (click)="makeAdmin(person)">Make admin</button>
          <!-- <button type="button" class="btn btn-primary" (click)="openModalWithInfo(template,person)">Edit Person</button> -->
        </accordion-group>
    </accordion>
  </div>
  <div>
        <button type="button" class="btn btn-primary" (click)="openModal(template)">Create template modal</button>
        <ng-template #template>
          <div class="modal-header">
            <h4 class="modal-title pull-left">Modal</h4>
            <button type="button" class="close pull-right" aria-label="Close" (click)="closeModal()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            This is The Person Form.
            <form [formGroup]="personForm">
              <label>FirstName</label>
              <input type="text" class="form-control" id="first_name"  formControlName='first_name' name="first_name">
              <p class="alert alert-warning" *ngIf="this.personForm.controls.first_name.touched && !personForm.controls.first_name.valid">{{getErrorMessage('first_name')}}</p>
              <label>LastName</label>
              <input type="text" class="form-control" id="last_name"  formControlName='last_name' name="last_name">
              <p class="alert alert-warning" *ngIf="this.personForm.controls.last_name.touched && !personForm.controls.last_name.valid">{{getErrorMessage('last_name')}}</p>
              <label>Email</label>
              <p class="alert alert-warning" *ngIf="this.personForm.controls.email.touched && !personForm.controls.email.valid">{{getErrorMessage('email')}}</p>
              <input type="text" class="form-control" id="email"  formControlName='email' name="email">
              <label>Gender</label>
              <input type="text" class="form-control" id="gender"  formControlName='gender' name="gender">
              <p class="alert alert-warning" *ngIf="this.personForm.controls.gender.touched && !personForm.controls.gender.valid">{{getErrorMessage('gender')}}</p>
              <label>Address</label>
              <input type="text" class="form-control" id="address"  formControlName='address' name="address">
              <p class="alert alert-warning" *ngIf="this.personForm.controls.address.touched && !personForm.controls.address.valid">{{getErrorMessage('address')}}</p>
              <button type="button-primary" style="align-self: center !important" (click)="addPerson();closeModal()" [disabled]="!personForm.valid" > Create</button>
              <button type="button-primary" style="align-self: center !important" (click)="updatePerson();closeModal()" [disabled]="!personForm.valid" > Update</button>
           
            </form>
          </div>
        </ng-template>

  </div>
</div>
